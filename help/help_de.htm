<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Advancedform_XH – Benutzerhandbuch</title>
  <style type="text/css">
    body {
        font-family: Georgia, serif;
        line-height: 1.5;
        margin-left: auto;
        margin-right: auto;
        padding-left: 0.5em;
        padding-right: 0.5em;
        background: #ffffe1;
        max-width: 32em;
    }
    p {
        text-align: justify;
    }
    pre {
        color: black;
        background: #ffe;
        overflow: auto;
        padding: 0.2em 0.5em;
        border: 1px solid silver;
    }
  </style>
</head>
<body>
<h1 id="advancedform_xh">Advancedform_XH</h1>
<p>Advancedform_XH ermöglicht es Ihnen Ihre eigenen E-Mail-Formulare zur Integration in CMSimple_XH zu erstellen. Die Möglichkeiten reichen von angepassten Kontaktformularen bis zu komplexen Bestell- oder Buchungsformularen. Selbst komplexe Formulare können im Formular-Editor konstruiert werden, so dass Sie kein HTML, CSS oder PHP schreiben müssen, wenn Ihnen die grundlegende Formular-Funktionalität genügt. Weitergehende Anpassungen sind durch das Template- bzw. Hook-System möglich.</p>
<ul>
<li><a href="#voraussetzungen">Voraussetzungen</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#einstellungen">Einstellungen</a></li>
<li><a href="#verwendung">Verwendung</a>
<ul>
<li><a href="#formular-verwaltung">Formular-Verwaltung</a></li>
<li><a href="#formular-editor">Formular-Editor</a></li>
<li><a href="#verwenden-des-formulars">Verwenden des Formulars</a></li>
<li><a href="#ersetzen-des-eingebauten-kontakt-formulars">Ersetzen des eingebauten Kontakt-Formulars</a></li>
<li><a href="#vorlagen-system">Vorlagen-System</a></li>
<li><a href="#hooks">Hooks</a></li>
<li><a href="#demo-formulare">Demo-Formulare</a></li>
</ul></li>
<li><a href="#einschränkungen">Einschränkungen</a></li>
<li><a href="#fehlerbehebung">Fehlerbehebung</a></li>
<li><a href="#lizenz">Lizenz</a></li>
<li><a href="#danksagung">Danksagung</a></li>
</ul>
<h2 id="voraussetzungen">Voraussetzungen</h2>
<p>Advancedform_XH ist ein Plugin für CMSimple_XH ≥ 1.7 mit den Fa und Jquery Plugins, die standardmäßig verfügbar sind. Es benötigt PHP ≥ 5.5.0 mit den ctype, filter und hash Extensions.</p>
<h2 id="download">Download</h2>
<p>Das <a href="https://github.com/cmb69/advancedform_xh/releases/latest">aktuelle Release</a> kann von Github herunter geladen werden.</p>
<h2 id="installation">Installation</h2>
<p>Die Installation erfolgt wie bei vielen anderen CMSimple_XH-Plugins auch.</p>
<ol type="1">
<li>Sichern Sie die Daten auf Ihrem Server.</li>
<li>Entpacken Sie die ZIP-Datei auf Ihrem Computer.</li>
<li>Laden Sie das gesamte Verzeichnis <code>advancedform/</code> auf Ihren Server in das <code>plugins/</code> Verzeichnis von CMSimple_XH hoch.</li>
<li>Vergeben Sie falls nötig Schreibrechte für die Unterverzeichnisse <code>config/</code>, <code>css/</code>, <code>languages/</code> und den Daten-Ordner von Advancedform_XH.</li>
<li>Schützen Sie den Daten-Ordner von Advancedform_XH vor direktem Zugriff auf eine Weise, die Ihr Webserver unterstützt. <code>.htaccess</code>-Dateien für Apache Server sind bereits im voreingestellten Daten-Ordner enthalten. Beachten Sie, dass die Unterordner <code>css/</code> und <code>js/</code> öffentlichen Zugriff erlauben müssen.</li>
<li>Navigieren Sie zu <code>Plugins</code> → <code>Advancedform</code> im Administrationsbereich, und prüfen Sie, ob alle Vorraussetzungen erfüllt sind.</li>
</ol>
<h2 id="einstellungen">Einstellungen</h2>
<p>Die Konfiguration des Plugins erfolgt wie bei vielen anderen CMSimple_XH-Plugins auch im Administrationsbereich der Website. Wählen Sie <code>Plugins</code> → <code>Advancedform</code>.</p>
<p>Sie können die Original-Einstellungen von Advancedform_XH unter <code>Konfiguration</code> ändern. Beim Überfahren der Hilfe-Icons mit der Maus werden Hinweise zu den Einstellungen angezeigt. Die Einstellung <code>php_extension</code> bietet zusätzliche Sicherheit in Verbindung mit dem Vorlagen-System und den Hooks, wenn sie aktiviert wird. Allerdings funktionieren dann einige Demo-Formulare nicht.</p>
<p>Die Lokalisierung wird unter <code>Sprache</code> vorgenommen. Sie können die Zeichenketten in Ihre eigene Sprache übersetzen, falls keine entsprechende Sprachdatei zur Verfügung steht, oder sie entsprechend Ihren Anforderungen anpassen.</p>
<p>Das Aussehen von Advancedform_XH kann unter <code>Stylesheet</code> angepasst werden. Der obere Teil enthält das Styling der Formulare, die im Front-End angezeigt werden. Das Formular wird als Tabelle mit zwei Spalten angezeigt. Die linke Spalte enthält die Beschriftungen, die rechte Spalte die Felder. Sie können einfach die Stile der Klassen <code>div.advfrm-mailform td.label</code> und <code>div.advfrm-mailform td.field</code> anpassen. Das Aussehen einzelner Formulare kann durch Auswählen von <code>form[name=FORMULAR_NAME]</code>, das Aussehen einzelner Felder durch Auswählen von <code>#advfrm-FORMULAR_NAME-FELD_NAME</code> angepasst werden. Wenn Sie ein einspaltiges Layout bevorzugen, müssen Sie auf das <a href="#vorlagen-system">Vorlagen-System</a> zurückgreifen.</p>
<p>Der untere Teil des Stylesheets enthält das Styling der Formular-Verwaltung und des Formular-Editors. Wollen Sie, dass das Aussehen der Eigenschafts-Dialoge zu Ihrem Template passt, sollten Sie in Erwägung ziehen, jQueryUI-Theming zu Ihrem Template hinzuzufügen. Wie das geht, wird im <a href="https://www.cmsimpleforum.com/viewtopic.php?f=29&amp;t=3435&amp;start=2">CMSimple_XH Forum</a> erklärt.</p>
<p>Nur der erste Teil des Stylesheets oberhalb der Zeile</p>
<pre><code>/* END OF MAIL CSS */</code></pre>
<p>wird in den versendeten E-Mails eingebunden. Definieren Sie also alle Stile, die für die E-Mail erforderlich sind, im oberen Teil des Stylesheets.</p>
<h2 id="verwendung">Verwendung</h2>
<h3 id="formular-verwaltung">Formular-Verwaltung</h3>
<p>Im Administrationsbereich finden Sie unter <code>E-Mail-Formulare</code> die Übersicht aller definierten E-Mail-Formulare. Sie können neue hinzufügen und importieren sowie bestehende bearbeiten, löschen, kopieren und exportieren. Rechts daneben befindet sich der Skript-Code, der nötig ist, um das jeweilige Formular auf einer Seite anzuzeigen. Kopieren Sie einfach den Code und fügen Sie ihn auf der gewünschten Seite ein.</p>
<h3 id="formular-editor">Formular-Editor</h3>
<p>Im Formular-Editor können Sie Ihre Formulare erstellen. Die Details werden in den folgenden Abschnitten erklärt.</p>
<h4 id="allgemeine-formular-eigenschaften">Allgemeine Formular-Eigenschaften</h4>
<p>Im oberen Teil des Formular-Editors können Sie die allgemeinen Formular-Eigenschaften bearbeiten.</p>
<ul>
<li><code>Name</code>: Der Name eines Formulars darf nur alphanumerische Zeichen und Unterstriche enthalten. Er muss eindeutig für alle definierten Formulare sein. Er wird verwendet, um das Formular zu identifizieren.</li>
<li><code>Titel</code>: Der Titel des Formulars wird nur im Betreff der E-Mail verwendet.</li>
<li><code>An (Name)</code>: Der Name des Empfängers der E-Mail.</li>
<li><code>An (E-Mail)</code>: Die Adresse des Empfängers der E-Mail.</li>
<li><code>CC</code>: Die durch Strichpunkte getrennten Adressen der CC Empfänger der E-Mail.</li>
<li><code>BCC</code>: Die durch Strichpunkte getrennten Adressen der BCC Empfänger der E-Mail.</li>
<li><code>CAPTCHA</code>: Ob ein CAPTCHA im Formular integriert werden soll.</li>
<li><code>Daten speichern</code>: Ob die abgeschickten Daten zusätzlich in einer CSV-Datei gespeichert werden sollen.</li>
<li><code>Dank-Seite</code>: Wenn leer, wird nach dem E-Mail-Versand die gesendete Information angezeigt. Wenn gesetzt und eine Absender E-Mail-Adresse eingegeben wurde, werden Besucher nach dem E-Mail-Versand auf diese Seite weiter geleitet, und eine Bestätigungs-E-Mail mit den gesendeten Information wird ihnen zugeschickt.</li>
</ul>
<h4 id="formular-felder">Formular-Felder</h4>
<p>Im unteren Teil des Formular-Editors können Sie die Felder des Formulars bearbeiten. Verwenden sie die Tool-Icons um Felder hinzuzufügen, zu löschen oder zu verschieben.</p>
<ul>
<li><code>Name</code>: Der Name des Felds darf nur alphanumerische Zeichen und Unterstriche enthalten. Er muss für alle definierten Felder des aktuellen Formulars eindeutig sein. Er wird verwendet, um das Feld zu identifizieren.</li>
<li><code>Beschriftung</code>: Die Beschriftung die neben dem Feld angezeigt werden soll.</li>
<li><code>Typ</code>: Der Feld-Typ. Rechts vom Auswahlfeld befindet sich das Eigenschaften-Tool-Icon. Klicken Sie es an, um den Dialog zum Bearbeiten der Eigenschaften des ausgewählten Feld-Typs zu öffnen.</li>
<li><code>Erf.</code>: Ob das Feld erforderlich ist, d.h. vom Besucher ausgefüllt werden muss.</li>
</ul>
<h4 id="feld-typen">Feld-Typen</h4>
<ul>
<li><code>Text</code>: Ein allgemeines Text-Feld.</li>
<li><code>Absender (Name)</code>: Ein Feld zur Eingabe des Namens des Absenders. Diese Information wird im E-Mail-Header eingefügt. Höchstens ein Feld des Typs <code>Absender (Name)</code> darf pro Formular verwendet werden.</li>
<li><code>Absender (E-Mail)</code>: Ein Feld zur Eingabe der E-Mail-Adresse des Absenders, welche validiert wird. Diese Information wird als Antwort-An-Header der Mail verwendet und als An-Header der Bestätigungs-E-Mail. Höchstens ein Feld des Typs <code>Absender (E-Mail)</code> darf pro Formular verwendet werden.</li>
<li><code>E-mail</code>: Ein Feld zur Eingabe einer allgemeinen E-Mail-Adresse, die validiert wird.</li>
<li><code>Datum</code>: Ein Feld zur Eingabe eines Datums, das validiert wird. In zeitgemäßen Browsern steht ein Datepicker zur Verfügung.</li>
<li><code>Zahl</code>: Ein Feld zur Eingabe einer nicht negativen Ganzzahl, die validiert wird.</li>
<li><code>Textbereich</code>: Ein Feld zur Eingabe von mehrzeiligen Texten.</li>
<li><code>Radio-Button</code>: Ein Feld zur Auswahl einer von mehreren Optionen.</li>
<li><code>Checkbox</code>: Ein Feld zur Auswahl einer beliebigen Anzahl mehrerer Optionen.</li>
<li><code>Auswahlliste</code>: Ein Feld zur Auswahl einer von mehreren Optionen.</li>
<li><code>Mehrfach-Auswahlliste</code>: Ein Feld zur Auswahl einer beliebigen Anzahl mehrerer Optionen.</li>
<li><code>Kennwort</code>: Ein Feld zur Eingabe eines Kennworts.</li>
<li><code>Datei</code>: Ein Feld, das es dem Besucher ermöglicht eine Datei als E-Mail-Anhang zur versenden. Der Anhang wird in der Bestätigungs-E-Mail nicht zum Besucher zurück geschickt.</li>
<li><code>Versteckt</code>: Ein verstecktes Feld. Versteckte Felder werden dem Besucher niemals angezeigt. Sie können in Verbindung mit dem Vorlagen-System und den Hooks nützlich sein.</li>
<li><code>Ausgabe</code>: Ein Feld um beliebiges HTML auszugeben.</li>
<li><code>Benutzerdefiniert</code>: Ein Feld, das gegen einen anzugebenden regulären Ausdruck validiert wird.</li>
</ul>
<h4 id="feld-eigenschaften">Feld-Eigenschaften</h4>
<p>Die Feld-Eigenschaften werden in einem Dialog bearbeitet, der durch Anklicken des Eigenschaften-Icons geöffnet werden kann. Die unterschiedlichen Feld-Typen haben verschiedene Eigenschaften.</p>
<ul>
<li><code>Größe</code>: Für Textfelder im weiteren Sinn die Breite des Felds gemessen in Zeichen. Für Auswahllisten die Höhe der Liste. <code>1</code> erzeugt eine Dropdown-Auswahlliste.</li>
<li><code>Ausrichtung</code>: Nur für Radio-Buttons und Checkboxen: ob diese horizontal oder vertikal dargestellt werden sollen.</li>
<li><code>Max. Länge</code>: Die Höchstanzahl der Zeichen, die eingegeben werden können. Für Dateifelder wird damit die maximale Größe der Datei in Bytes angegeben.</li>
<li><code>Spalten</code>: Die Breite des Textbereichs in Zeichen.</li>
<li><code>Zeilen</code>: Die Höhe des Textbereichs in Zeichen.</li>
<li><code>Vorbelegung</code>: Die Vorbelegung des Felds.</li>
<li><code>Wert</code>: Das HTML für Ausgabe-Felder.</li>
<li><code>Dateitypen</code>: Nur für Datei-Felder: eine durch Komma getrennte Liste erlaubter Dateierweiterungen, z.B. <code>jpeg,jpg,png,gif,bmp</code> für Bilder.</li>
<li><code>Beschränkung</code>: Nur für benutzerdefinierte Felder: der reguläre Ausdruck gegen den die Eingabe geprüft werden soll.</li>
<li><code>Fehlermeldung</code>: Nur für benutzerdefinierte Felder: die Fehlermeldung, die angezeigt werden soll, wenn die Eingabe nicht zum regulären Ausdruck passt. Verwenden Sie <code>%s</code> um die Beschriftung des Felds in der Meldung einzufügen.</li>
</ul>
<p>Radio-Buttons, Checkboxen and Auswahllisten erlauben die Eingabe verschiedener Optionen. Verwenden sie die Tool-Buttons um diese hinzuzufügen, zu löschen und umzustellen. Durch Aktivieren der Radio-Buttons bzw. Checkboxen neben den Optionen, werden diese als Vorbelegung gewählt. Verwenden Sie das Tool <code>Vorbelegung entfernen</code> um diese Auswahl zurückzusetzen.</p>
<h3 id="verwenden-des-formulars">Verwenden des Formulars</h3>
<p>Bearbeiten Sie die Seite, auf der das E-Mail-Formular angezeigt werden soll, und fügen Sie den Plugin-Aufruf ein:</p>
<pre><code>{{{advancedform(&#39;FORMULAR_NAME&#39;)}}}</code></pre>
<p>Das Einfachste ist den nötigen Code aus der Formular-Verwaltung zu kopieren und einzufügen.</p>
<p>Nun ist das Formular bereit von den Besuchern Ihrer Website verwendet zu werden. Diese können das Formular ausfüllen und absenden. Wenn sie dabei einen Fehler machen, z.B. ein erforderliches Feld nicht ausfüllen, eine ungültige E-Mail-Adresse oder Zahl eingeben oder eine Datei angeben, die größer ist als erlaubt, wird das Formular mit den bereits getätigten Eingaben und den Fehlermeldungen darüber erneut angezeigt, so dass die Besucher die Fehler korrigieren und das Formular erneut absenden können. Es ist nicht nötig, dass JavaScript im Browser des Besucher aktiviert ist, aber falls doch, wird das erste fehlerhafte Feld fokusiert. Allerdings ist keine der Feld-Validierungen auf JavaScript angewiesen.</p>
<p>Nach dem erfolgreichen Absenden des Formulars wird eine E-Mail an die Empfänger (An, CC und BCC), die im Formular-Editor angegeben wurden, versendet. Dann wird die versendete Information im Browser der Besuchers als Bestätigung angezeigt, oder, falls eine Dank-Seite angegeben wurde, werden die Besucher dorthin weiter geleitet, und eine Bestätigungs-E-Mail wird an sie versendet. Die Weiterleitung auf die Dank-Seite mit Bestätigungs-E-Mail ist nur möglich, wenn ein erforderliches Feld des Typs <code>Absender (E-Mail)</code> im Formular existiert, und <code>Mail</code> → <code>Confirmation</code> in der Konfiguration aktiviert ist.</p>
<p>Das Bestätigung-E-Mail-Feature kann von jedermann missbraucht werden, nämlich durch Versenden beleidigender Inhalte an beliebige Empfänger, indem die E-Mail-Addresse dieses Empfängers genutzt wird. <strong>Aus diesem Grund wird unbedingt empfohlen, <code>Mail</code> → <code>Confirmation</code> zu deaktivieren.</strong></p>
<p>Versuche eine E-Mail per Advancedform zu versenden werden im System-Protokoll von CMSimple_XH (<code>Einstellungen</code> → <code>Log-Datei</code>) aufgezeichnet.</p>
<p>Beachten Sie, dass es möglich ist mehrere Formulare auf einer einzelnen Seite zu platzieren, die unabhängig voneinander abgeschickt werden können.</p>
<h3 id="ersetzen-des-eingebauten-kontakt-formulars">Ersetzen des eingebauten Kontakt-Formulars</h3>
<p>Es ist möglich das eingebaute Kontakt-Formular von CMSimple_XH durch ein benutzerdefiniertes zu ersetzen. Erstellen Sie dazu einfach das gewünschte Formular, und tragen Sie dessen Namen in den Spracheinstellungen von Advancedform_XH als <code>contact form</code> ein. Nun wird der Kontakt-Formular-Link von CMSimple_XH direkt Ihr eigenes Formular aufrufen. Beachten Sie, dass für CMSimple_XH eine E-Mail-Adresse konfiguriert sein muss, damit der Kontaktformular-Link angezeigt wird, aber diese von Advancedform_XH ignoriert wird.</p>
<p>Alternativ fügen Sie den erforderlichen Skript-Code zum Aufruf des Formulars auf einer versteckten CMSimple-Seite ein. Dann müssen Sie Ihr Template ändern. Ersetzen Sie</p>
<pre><code>&lt;?=mailformlink()?&gt;</code></pre>
<p>durch</p>
<pre><code>&lt;?=advancedformlink(&#39;SEITEN_URL&#39;)?&gt;</code></pre>
<p>wobei SEITEN_URL der Teil der URL der Seite nach dem Fragezeichen ist. Es ist möglich auf diese Weise mehrere <code>advancedformlink()</code>s anzugeben.</p>
<h3 id="vorlagen-system">Vorlagen-System</h3>
<p>Das Vorlagen-System ermöglich die Erstellung höchst individueller Formulare. Power-User, die Formulare häufig erstellen oder verändern müssen, sollten sich den <a href="https://simplesolutions.dk/?Form_Mailer">Form Mailer</a> von Jerry Jakobsfeld ansehen, der noch flexibler einzusetzen ist als Advancedform_XH.</p>
<p>Wenn eine Datei mit dem Namen <code>FORMULAR_NAME.tpl(.php)</code> (wobei <code>FORMULAR_NAME</code> durch den Formularnamen ersetzt werden muss, z.B. für ein Formular namens <code>kontakt</code>, ist der Dateiname <code>kontakt.tpl(.php)</code>) im Daten-Ordner von Advancedform_XH vorliegt, wird es als Vorlagen-Datei verwendet. Zusätzlich wird die Datei <code>css/FORMULAR_NAME.css</code>, falls sie existiert, als Stylesheet in die CMSimple_XH-Seite, und der obere Teil dieses Stylesheets (abgetrennt wie für das Plugin-Stylesheet) in die E-Mail eingebunden. Und wenn eine Datei <code>js/FORMULAR_NAME.js</code> existiert, wird diese ebenfalls in die Seite eingebunden.</p>
<p>Sie können die Vorlagen-Datei und deren Stylesheet selbst schreiben, aber vielleicht ist es einfacher, diese in der Formular-Verwaltung von Advancedform_XH erzeugen zu lassen. Auf diese Weise erzeugte Vorlagen-Dateien stellen das Formular ähnlich des einspaltigen Layouts des Original Advancedform-Plugins dar. Wenn Ihnen das genügt, sind Sie bereits fertig.</p>
<p>Wenn Sie das Aussehen anpassen möchten, schauen Sie sich die erzeugten Dateien an. In der Vorlagen-Datei sehen Sie deren einfachen Aufbau. Aus Gründen der Flexibilität ist alles in <code>&lt;div&gt;</code>s eingeschlossen. Beachten Sie die Klasse der Container-<code>div</code>s. Diese ist auf <code>break</code> voreingestellt, so dass jedes Feld in einer neuen Zeile platziert wird. Ändern Sie sie in <code>float</code>, dann werden die Felder nebeneinander angezeigt. Wenn Sie die Beschriftung links von den Feldern haben möchten, entfernen Sie einfach die Kommentare in <code>div.label</code> und <code>div.field</code>.</p>
<p>Eine Vorlagen-Datei ist prinzipiell eine PHP-Datei mit einer Erweiterung der Syntax:</p>
<pre><code>&lt;?field FELD_NAME?&gt;</code></pre>
<p>gibt das Feld mit dem Namen <code>FELD_NAME</code> aus. Verwenden Sie keine weiteren Zeichen wie Leerzeichen außer einem einzigen Leerzeichen zwischen <code>field</code> und <code>FELD_NAME</code>.</p>
<p>Die Vorlagen-Datei wird im Kontext von CMSimple_XH ausgewertet, so dass alle globalen Variablen, Konstanten und Funktionen verwendet werden können. Allerdings ist es nicht möglich globale Variablen zu ändern (abgesehen von den Superglobalen, was aber die Funktion des Systems stören könnte). Und rufen Sie keine nicht existierenden Funktionen auf, da dies einen Fehler im PHP-Interpreter auslösen würde. <strong>Sie sollten besonders vorsichtig im Umgang mit Vorlagen-Dateien aus nicht vertrauenswürdigen Quellen sein, da diese bösartigen Code enthalten könnten, der Ihre CMSimple_XH-Installation beschädigen könnte.</strong></p>
<p>Eine besonders nützliche Funktion ist</p>
<pre><code>Advancedform_focusField($formular_name, $feld_name)</code></pre>
<p>die den Fokus auf das angegebene Feld setzt.</p>
<h3 id="hooks">Hooks</h3>
<p>Die Hooks sind verfügbar, um noch mehr Flexibilität zu haben, wenn sie etwas PHP programmieren können. Definieren Sie sie in einer Datei <code>FORMULAR_NAME.inc(.php)</code> (wobei <code>FORMULAR_NAME</code> durch den Formularnamen ersetzt werden muss, z.B. für ein Formular names <code>kontakt</code>, ist der Dateiname <code>kontakt.inc(.php)</code>) im Daten-Ordner von Advancedform_XH. Beachten Sie, dass diese Datei wird per <code>include()</code> eingebunden wird, so dass sie als echte PHP-Datei notiert werden muss. Die Hooks werden von Advancedform_XH bei bestimmten Anlässen aufgerufen. Sie sind nicht an das Vorlagen-System gebunden.</p>
<pre><code>function advfrm_custom_field_default($form_name, $field_name, $opt, $is_resent)</code></pre>
<p>Dies wird aufgerufen bevor das Formular an den Browser geschickt wird. Es erlaubt Vorgabewerte für Felder dynamisch zu setzen. Geben Sie einfach den Wert, der als Vorgabe für ein Feld gelten soll zurück. Soll der Vorgabewert nicht geändert werden, geben Sie einfach <code>null</code> zurück. Der dritte Parameter gilt nur für Radio-Buttons, Checkboxen und Auswahllisten. Er enthält die Option, die gerade verarbeitet wird. Geben sie <code>true</code> zurück, um die Option zu markieren, <code>false</code> um die Markierung aufzuheben, oder <code>null</code> um die Vorgabe aus dem Formular-Editor zu übernehmen. Der Parameter <code>$is_resent</code> gibt an, ob das Formular nach dem Absenden zum Browser zurück geschickt wurde, da Fehler bei der Überprüfung festgestellt wurden. Wenn das der Fall ist, werden die Werte, die der Benutzer bereits eingegeben hat, anstelle der Vorgaben aus dem Formular-Editor zurück gesendet. In diesem Fall sollten Sie ggf. <code>null</code> zurück geben, um die Eingaben des Benutzers nicht zu überschreiben.</p>
<pre><code>function advfrm_custom_valid_field($form_name, $field_name, $value)</code></pre>
<p>Dies wird aufgerufen nachdem das Formular abgesandt wurde, und ermöglicht zusätzliche Überprüfungen der Feld-Werte. Geben Sie <code>true</code> zurück, wenn der gegebene <code>$value</code> erlaubt ist; andernfalls sollten Sie eine Fehlermeldung zurück geben, die dem Benutzer angezeigt wird. Für Felder des Typs <code>Datei</code> ist <code>value</code> das <code>$_FILES[]</code>-Array des angegebenen Felds.</p>
<pre><code>function advfrm_custom_mail($form_name, $mail, $is_confirmation)</code></pre>
<p>Dies wird aufgerufen nachdem das <code>$mail</code>-Objekt mit allen Informationen initialisiert wurde, und gerade bevor die E-Mail verschickt wird, und ermöglicht es das <code>$mail</code>-Objekt zu ändern. Der Parameter <code>$form_name</code> gibt das gerade verarbeitete Formular an, und der Parameter <code>$is_confirmation</code> gibt an, ob das <code>$mail</code>-Objekt die Information für die E-Mail oder die Bestätigungs-E-Mail enthält. Um das Versenden ganz zu unterdrücken, geben Sie einfach <code>false</code> zurück.</p>
<pre><code>function advfrm_custom_thanks_page($form_name, $fields)</code></pre>
<p>Dies wird aufgerufen nachdem die E-Mail versendet wurde, und kann genutzt werden, um zu einer individualisierten Dank-Seite zu wechseln. Geben Sie den Query-String (d.h. den Teil der URL der Seite nach dem Fragezeichen) der Seite, auf die gewechselt werden soll, zurück. Bei Rückgabe eines leeren Strings wird zu der Dank-Seite weiter geleitet, die im Formular-Editor angegeben wurde. Wenn keine Dank-Seite vordefiniert wurde, werden die versendeten Informationen angezeigt. Der Parameter <code>$fields</code> ist ein Array, das die Werte aller abgeschickten Formular-Felder enthält.</p>
<h3 id="demo-formulare">Demo-Formulare</h3>
<p>Sie sollten sich die ausgelieferten Demo-Formulare (in <code>data/README</code> finden Sie weitere Details) anschauen, um zu sehen, was möglich ist, und wie es gemacht wird.</p>
<p><strong>Vorsicht:</strong> natürlich können Sie die Demo-Formulare als Basis für Ihre eigenen verwenden. Da aber die meisten Demo-Formulare das Vorlagen- bzw. Hook-System verwenden, könnte das unerwartete Ergenisse zur Folge haben. Entweder entfernen Sie nicht gewünschte Template-/Hook-Dateien manuell, oder Sie erzeugen eine Kopie des Formulars in der Formular-Verwaltung und verwenden diese Kopie.</p>
<h2 id="einschränkungen">Einschränkungen</h2>
<h3 id="alternative-mailer">Alternative Mailer</h3>
<p>Das ursprüngliche AdvancedForm-Plugin unterstützte verschiedene Arten von Mailern. Dies scheint aber nicht nötig. Die meisten Webhoster stellen die Möglichkeit zur Verfügung E-Mails per <code>mail()</code> zu versenden, welches leicht konfiguriert werden kann, und für die Zwecke von Advancedform_XH mehr als ausreichend ist.</p>
<h3 id="spam-schutz">Spam-Schutz</h3>
<p>Das ursprüngliche Advanceform-Plugin bot mehrere Möglichkeiten zum Spam-Schutz: IP-Blacklists, einen „bad word“ Filter, eine XSS-Erkennungsmöglichkeit. Die Autoren von Advancedform_XH sind nicht davon überzeugt, dass dies vernünftige Mechanismen zur Spam-Bekämpfung sind. Daher wurde keiner davon implementiert (abgesehen vom Schutz vor XSS), sondern statt dessen ein CAPTCHA verfügbar gemacht. Dieses stellt nur eine minimalistische textbasierte Variante dar, aber bessere CAPTCHAs können als zusätzliches kompatibles CAPTCHA-Plugin genutzt werden. Zur Zeit ist <a href="https://github.com/cmb69/Cryptographp_XH">Cryptographp_XH</a> verfügbar.</p>
<h2 id="fehlerbehebung">Fehlerbehebung</h2>
<p>Melden Sie Programmfehler und stellen Sie Supportanfragen entweder auf <a href="https://github.com/cmb69/advancedform_xh/issues">Github</a> oder im <a href="https://cmsimpleforum.com/">CMSimple_XH Forum</a>.</p>
<h2 id="lizenz">Lizenz</h2>
<p>Advancedform_XH ist freie Software. Sie können es unter den Bedingungen der GNU General Public License, wie von der Free Software Foundation veröffentlicht, weitergeben und/oder modifizieren, entweder gemäß Version 3 der Lizenz oder (nach Ihrer Option) jeder späteren Version.</p>
<p>Die Veröffentlichung von Advancedform_XH erfolgt in der Hoffnung, daß es Ihnen von Nutzen sein wird, aber <em>ohne irgendeine Garantie</em>, sogar ohne die implizite Garantie der <em>Marktreife</em> oder der <em>Verwendbarkeit für einen bestimmten Zweck</em>. Details finden Sie in der GNU General Public License.</p>
<p>Sie sollten ein Exemplar der GNU General Public License zusammen mit Advancedform_XH erhalten haben. Falls nicht, siehe <a href="https://www.gnu.org/licenses/" class="uri">https://www.gnu.org/licenses/</a>.</p>
<p>© 2005-2010 Jan Kanters<br />
© 2011-2021 Christoph M. Becker</p>
<p>Dänische Übersetzung © 2012 Jens Maegard<br />
Estnische Übersetzung © 2012 Alo Tänavots<br />
Französische Übersetzung © 2014 Patrick Varlet<br />
Slovakische Übersetzung © 2012 Dr. Martin Sereday<br />
Tschechische Übersetzung © 2011-2012 Josef Němec</p>
<h2 id="danksagung">Danksagung</h2>
<p>Advancedform_XH basiert auf AdvancedForm Pro von Jan Kanters. Vielen Dank an ihn, dass er die Erlaubnis gegeben hat, seinen Code für eine CMSimple_XH kompatible Version zu verwenden, und an <em>Holger</em> und <em>johnjdoe</em>, die diese Erlaubnis ausgehandelt haben.</p>
<p>Das Erstellen und Versenden der E-Mails wird durch <a href="https://github.com/PHPMailer/PHPMailer">PHPMailer</a> ermöglicht. Vielen Dank für die Veröffentlichung dieser fortgeschrittenen E-Mail-Bibliothek unter LGPL-2.1.</p>
<p>Der reguläre Ausdruck um auf gültige E-Mail-Adressen zu prüfen, stammt von <a href="https://www.regular-expressions.info/email.html">Jan Goyvaerts</a>. Vielen Dank für das großartige Tutorial zu regulären Ausdrücken und die Beispiele.</p>
<p>Das Plugin-Icon wurde von Jack Cai entworfen. Vielen Dank für die Veröffentlichung unter CC BY-ND.</p>
<p>Vielen Dank an die Community im <a href="https://cmsimpleforum.com/">CMSimple_XH Forum</a> für Tipps, Vorschläge und das Testen. Besonders möchte ich <em>Tata</em> für die Idee danken, dass Advancedform_XH eine grundlegende Vorlagen-Datei mit Stylesheet erzeugen sollte, und <em>manu</em> für die konkreten Vorschläge für das Hook-System. Und vielen Dank an <em>maeg</em>, der es mir ermöglicht hat auf seinem Server zu debuggen, so dass ich einen Fehler finden und beheben konnte, der den Mailversand auf manchen Servern scheitern ließ.</p>
<p>Und zu guter Letzt vielen Dank an <a href="https://www.harteg.dk/">Peter Harteg</a>, den „Vater“ von CMSimple, und alle Entwickler von <a href="https://www.cmsimple-xh.org/de/">CMSimple_XH</a>, ohne die dieses phantastische CMS nicht existieren würde.</p>
</body>
</html>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Advancedform_XH – Benutzerhandbuch</title>
  <style type="text/css">
    body {
        font-family: Georgia, serif;
        line-height: 1.5;
        margin-left: auto;
        margin-right: auto;
        padding-left: 0.5em;
        padding-right: 0.5em;
        background: #ffffe1;
        max-width: 32em;
    }
    p {
        text-align: justify;
    }
    pre {
        color: black;
        background: #ffe;
        overflow: auto;
        padding: 0.2em 0.5em;
        border: 1px solid silver;
    }
  </style>
</head>
<body>
<h1 id="advancedform_xh">Advancedform_XH</h1>
<p>Advancedform_XH ermöglicht es Ihnen Ihre eigenen E-Mail-Formulare zur Integration in CMSimple_XH zu erstellen. Die Möglichkeiten reichen von angepassten Kontaktformularen bis zu komplexen Bestell- oder Buchungsformularen. Selbst komplexe Formulare können im Formular-Editor konstruiert werden, so dass Sie kein HTML, CSS oder PHP schreiben müssen, wenn Ihnen die grundlegende Formular-Funktionalität genügt. Weitergehende Anpassungen sind durch das Template- bzw. Hook-System möglich.</p>
<p>Advancedform_XH wird <a href="https://github.com/cmb69/advancedform_xh">auf Github gehostet</a>, wo neue Releases herunter geladen und Bugs gemeldet werden können, etc. Support wird im <a href="https://cmsimpleforum.com/">CMSimple_XH Forum</a> gewährt.</p>
<ul>
<li><a href="#vorraussetzungen">Vorraussetzungen</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#einstellungen">Einstellungen</a></li>
<li><a href="#verwendung">Verwendung</a>
<ul>
<li><a href="#formular-verwaltung">Formular-Verwaltung</a></li>
<li><a href="#formular-editor">Formular-Editor</a></li>
<li><a href="#verwenden-des-formulars">Verwenden des Formulars</a></li>
<li><a href="#ersetzen-des-eingebauten-kontakt-formulars">Ersetzen des eingebauten Kontakt-Formulars</a></li>
<li><a href="#vorlagen-system">Vorlagen-System</a></li>
<li><a href="#hooks">Hooks</a></li>
<li><a href="#demo-formulare">Demo-Formulare</a></li>
</ul></li>
<li><a href="#beschränkungen">Beschränkungen</a></li>
<li><a href="#lizenz">Lizenz</a></li>
<li><a href="#danksagung">Danksagung</a></li>
</ul>
<h2 id="vorraussetzungen">Vorraussetzungen</h2>
<p>Advancedform_XH ist ein Plugin für CMSimple_XH. Es benötigt eine UTF-8 kodierte Version und PHP ≥ 5.3.0.</p>
<h2 id="installation">Installation</h2>
<p>Die Installation erfolgt wie bei vielen anderen CMSimple_XH-Plugins auch. Im <a href="http://www.cmsimple-xh.org/wiki/doku.php/de:installation">CMSimple_XH Wiki</a> finden sie ausführliche Hinweise.</p>
<ol type="1">
<li>Sichern Sie die Daten auf Ihrem Server.</li>
<li>Entpacken Sie die ZIP-Datei auf Ihrem Computer.</li>
<li>Laden Sie das gesamte Verzeichnis advancedform/ auf Ihren Server in das CMSimple_XH Plugin-Verzeichnis hoch.</li>
<li>Vergeben Sie falls nötig Schreibrechte für die Unterverzeichnisse config/, css/, languages/ und den Daten-Ordner des Plugins.</li>
<li>Schützen Sie den Daten-Ordner von Advancedform_XH vor direktem Zugriff auf eine Weise, die Ihr Webserver unterstützt. .htaccess-Dateien für Apache Server sind bereits im voreingestellten Daten-Ordner enthalten. Beachten Sie, dass die Unterordner css/ und js/ öffentlichen Zugriff erlauben müssen.</li>
<li>Gehen Sie zu Advancedform im Administrationsbereich, und prüfen Sie, ob alle Vorraussetzungen erfüllt sind.</li>
</ol>
<h2 id="einstellungen">Einstellungen</h2>
<p>Die Konfiguration des Plugins erfolgt wie bei vielen anderen CMSimple_XH-Plugins auch im Administrationsbereich der Homepage. Wählen Sie unter “Plugins” “Advancedform” aus.</p>
<p>Sie können die Original-Einstellungen von Advancedform_XH unter “Konfiguration” ändern. Beim Überfahren der Hilfe-Icons mit der Maus werden Hinweise zu den Einstellungen angezeigt. Die Einstellung “php_extension” bietet zusätzliche Sicherheit in Verbindung mit dem Vorlagen-System und den Hooks, wenn sie aktiviert wird. Allerdings funktionieren dann einige Demo-Formulare nicht.</p>
<p>Die Lokalisierung wird unter “Sprache” vorgenommen. Sie können die Zeichenketten in Ihre eigene Sprache übersetzen, oder sie entsprechend Ihren Anforderungen anpassen.</p>
<p>Das Aussehen von Advancedform_XH kann unter “Stylesheet” angepasst werden. Der obere Teil enthält das Styling der Formulare, die im Front-End angezeigt werden. Das Formular wird als Tabelle mit zwei Spalten angezeigt. Die linke Spalte enthält die Beschriftungen, die rechte Spalte die Felder. Sie können einfach die Stile der Klassen “div.advfrm-mailform td.label” und “div.advfrm-mailform td.field” anpassen. Das Aussehen einzelner Formulare kann durch Auswahl von “form[name=FORMULAR_NAME]”, das Aussehen einzelner Felder durch Auswahl von “#advfrm-FORMULAR_NAME-FELD_NAME” angepasst werden. Wenn Sie ein einspaltiges Layout bevorzugen, müssen Sie auf das <a href="#vorlagen-system">Vorlagen-System</a> zurückgreifen.</p>
<p>Der untere Teil des Stylesheets enthält das Styling der Formular-Verwaltung und des Formular-Editors. Wollen Sie, dass das Aussehen der Eigenschafts-Dialoge zu Ihrem Template passt, sollten Sie in Erwägung ziehen, jQueryUI-Theming zu Ihrem Template hinzuzufügen. Wie das geht, wird im <a href="http://www.cmsimpleforum.com/viewtopic.php?f=29&amp;t=3435&amp;start=2">CMSimple_XH Forum</a> erklärt.</p>
<p>Nur der erste Teil des Stylesheets oberhalb der Zeile</p>
<pre><code>/* END OF MAIL CSS */</code></pre>
<p>wird in den versandten E-Mails eingebunden. Definieren Sie also alle Stile, die für die E-Mail erforderlich sind, im oberen Teil des Stylesheets.</p>
<h2 id="verwendung">Verwendung</h2>
<h3 id="formular-verwaltung">Formular-Verwaltung</h3>
<p>Im Administrationsbereich finden Sie unter “E-Mail-Formulare” die Übersicht aller definierten E-Mail-Formulare. Sie können neue hinzufügen und importieren sowie bestehende bearbeiten, löschen, kopieren und exportieren. Rechts daneben befindet sich der Skript-Code, der nötig ist, um das jeweilige Formular auf einer Seite anzuzeigen. Kopieren Sie einfach den Code und fügen Sie ihn auf der gewünschten Seite ein.</p>
<h3 id="formular-editor">Formular-Editor</h3>
<p>Im Formular-Editor können Sie Ihre Formulare erstellen. Die Details werden in den folgenden Abschnitten erklärt.</p>
<h4 id="allgemeine-formular-eigenschaften">Allgemeine Formular-Eigenschaften</h4>
<p>Im oberen Teil des Formular-Editors können Sie die allgemeinen Formular-Eigenschaften bearbeiten.</p>
<ul>
<li><strong>Name</strong>: Der Name eines Formulars darf nur alphanumerische Zeichen und Unterstriche enthalten. Er muss eindeutig für alle definierten Formulare sein. Er wird verwendet, um das Formular zu identifizieren.</li>
<li><strong>Titel</strong>: Der Titel des Formulars wird nur im Betreff der E-Mail verwendet.</li>
<li><strong>An (Name)</strong>: Der Name des Empfängers der E-Mail.</li>
<li><strong>An (E-Mail)</strong>: Die Adresse des Empfängers der E-Mail.</li>
<li><strong>CC</strong>: Die durch Strichpunkt getrennten Adressen der CC Empfänger der E-Mail.</li>
<li><strong>BCC</strong>: Die durch Strichpunkt getrennten Adressen der BCC Empfänger der E-Mail.</li>
<li><strong>CAPTCHA</strong>: Ob ein CAPTCHA im Formular integriert werden soll.</li>
<li>Daten speichern<br />
Ob die abgeschickten Daten zusätzlich in einer CSV-Datei gespeichert werden sollen.</li>
<li><strong>Dank-Seite</strong>: Wenn leer, wird nach dem E-Mail-Versand die gesendete Information angezeigt. Wenn gesetzt und eine Absender E-Mail-Adresse eingegeben wurde, wird der Besucher nach dem E-Mail-Versand auf diese Seite weiter geleitet, und eine Bestätigungs-E-Mail mit den gesendeten Information wird an ihn geschickt.</li>
</ul>
<h4 id="formular-felder">Formular-Felder</h4>
<p>Im unteren Teil des Formular-Editors können Sie die Felder des Formulars bearbeiten. Verwenden sie die Tool-Icons um Felder hinzuzufügen, zu löschen oder zu verschieben.</p>
<ul>
<li><strong>Name</strong>: Der Name des Felds darf nur alphanumerische Zeichen und Unterstriche enthalten. Er muss für alle definierten Felder des aktuellen Formulars eindeutig sein. Er wird verwendet, um das Feld zu identifizieren.</li>
<li><strong>Beschriftung</strong>: Die Beschriftung die neben dem Feld angezeigt werden soll.</li>
<li><strong>Typ</strong>: Der Feld-Typ. Rechts vom Auswahlfeld befindet sich das Eigenschaften-Tool-Icon. Klicken Sie es an, um den Dialog zum Bearbeiten der Eigenschaften des ausgewählten Feld-Typs zu öffnen.</li>
<li><strong>Erf.</strong>: Ob das Feld erforderlich ist, d.h. vom Besucher ausgefüllt werden muss.</li>
</ul>
<h4 id="feld-typen">Feld-Typen</h4>
<ul>
<li><strong>Text</strong>: Ein allgemeines Text-Feld.</li>
<li><strong>Absender (Name)</strong>: Ein Feld zur Eingabe des Namens des Absenders. Diese Information wird im E-Mail-Header eingefügt. Höchstens ein Feld des Typs “Absender (Name)” darf für jedes Formular verwendet werden.</li>
<li><strong>Absender (E-Mail)</strong>: Ein Feld zur Eingabe der E-Mail-Adresse des Absenders, welche validiert wird. Diese Information wird als From-Header der Mail verwendet und als To-Header der Bestätigungs-E-Mail. Höchstens ein Feld des Typs “Absender (E-Mail)” darf für jedes Formular verwendet werden.</li>
<li><strong>E-mail</strong>: Ein Feld zur Eingabe einer allgemeinen E-Mail-Adresse, die validiert wird.</li>
<li><strong>Datum</strong>: Ein Feld zur Eingabe eines Datums, das validiert wird. Wenn JavaScript im Browser des Besuchers aktiviert ist, steht ein Datepicker zur Verfügung.</li>
<li><strong>Zahl</strong>: Ein Feld zur Eingabe einer nicht negativen Ganzzahl, die validiert wird.</li>
<li><strong>Textbereich</strong>: Ein Feld zur Eingabe von mehrzeiligen Texten.</li>
<li><strong>Radio-Button</strong>: Ein Feld zur Auswahl einer von mehreren Optionen.</li>
<li><strong>Checkbox</strong>: Ein Feld zur Auswahl einer beliebigen Anzahl mehrerer Optionen.</li>
<li><strong>Auswahlliste</strong>: Ein Feld zur Auswahl einer von mehreren Optionen.</li>
<li><strong>Mehrfach-Auswahlliste</strong>: Ein Feld zur Auswahl einer beliebigen Anzahl mehrerer Optionen.</li>
<li><strong>Kennwort</strong>: Ein Feld zur Eingabe eines Kennworts.</li>
<li><strong>Datei</strong>: Ein Feld, das es dem Besucher ermöglicht eine Datei als E-Mail-Anhang zur versenden. Der Anhang wird in der Bestätigungs-E-Mail nicht zum Besucher zurück geschickt.</li>
<li><strong>Versteckt</strong>: Ein verstecktes Feld. Versteckte Felder werden dem Besucher niemals angezeigt. Sie können in Verbindung mit dem Vorlagen-System und den Hooks nützlich sein.</li>
<li><strong>Ausgabe</strong>: Ein Feld um beliebiges HTML auszugeben.</li>
<li><strong>Benutzerdefiniert</strong>: Ein Feld, das gegen einen anzugebenden regulären Ausdruck validiert wird.</li>
</ul>
<h4 id="feld-eigenschaften">Feld-Eigenschaften</h4>
<p>Die Feld-Eigenschaften werden in einem Dialog bearbeitet, der durch Anklicken des Eigenschaften-Icons geöffnet werden kann. Die unterschiedlichen Feld-Typen haben verschiedene Eigenschaften.</p>
<ul>
<li><strong>Größe</strong>: Für Textfelder im weiteren Sinn die Breite des Felds gemessen in Zeichen. Für Auswahllisten die Höhe der Liste. “1” erzeugt eine Dropdown-Auswahlliste.</li>
<li><strong>Ausrichtung</strong>: Nur für Radio-Buttons und Checkboxen: ob diese horizontal oder vertikal dargestellt werden sollen.</li>
<li><strong>Max. Länge</strong>: Die Höchstanzahl der Zeichen, die eingegeben werden können. Für Dateifelder wird damit die maximale Größe der Datei in Bytes angegeben.</li>
<li><strong>Spalten</strong>: Die Breite des Textbereichs in Zeichen.</li>
<li><strong>Zeilen</strong>: Die Höhe des Textbereichs in Zeichen.</li>
<li><strong>Vorbelegung</strong>: Die Vorbelegung des Felds.</li>
<li><strong>Wert</strong>: Das HTML für Ausgabe-Felder.</li>
<li><strong>Dateitypen</strong>: Nur für Datei-Felder: eine durch Komma getrennte Liste erlaubter Dateierweiterungen, z.B. <em>jpeg,jpg,png,gif,bmp</em> für Bilder.</li>
<li><strong>Beschränkung</strong>: Nur für benutzerdefinierte Felder: der reguläre Ausdruck gegen den die Eingabe geprüft werden soll.</li>
<li><strong>Fehlermeldung</strong>: Nur für benutzerdefinierte Felder: die Fehlermeldung, die angezeigt werden soll, wenn die Eingabe nicht zum regulären Ausdruck passt. Verwenden Sie <em>%s</em> um die Beschriftung des Felds in der Meldung einzufügen.</li>
</ul>
<p>Radio-Buttons, Checkboxen and Auswahllisten erlauben die Eingabe verschiedener Optionen. Verwenden sie die Tool-Buttons um diese hinzuzufügen, zu löschen und umzustellen. Durch Aktivieren der Radio-Buttons bzw. Checkboxen neben den Optionen, werden diese als Vorbelegung gewählt. Verwenden Sie das Tool “Vorbelegung entfernen” um diese Auswahl zurück zu setzen.</p>
<h3 id="verwenden-des-formulars">Verwenden des Formulars</h3>
<p>Bearbeiten Sie die Seite, auf der das E-Mail-Formular angezeigt werden soll, und fügen Sie den Plugin-Aufruf ein:</p>
<pre><code>advancedform(&#39;FORMULAR_NAME&#39;);</code></pre>
<p>Das Einfachste ist den nötigen Code aus der Formular-Verwaltung zu kopieren und einzufügen.</p>
<p>Nun ist das Formular bereit von den Besuchern Ihrer Homepage verwendet zu werden. Diese können das Formular ausfüllen und absenden. Wenn sie dabei einen Fehler machen, z.B. ein erforderliches Feld nicht ausfüllen, eine ungültige E-Mail-Adresse oder Zahl eingeben oder eine Datei angeben, die größer ist als erlaubt, wird das Formular mit den bereits getätigten Eingaben und den Fehlermeldungen darüber erneut angezeigt, so dass die Besucher die Fehler korrigieren und das Formular erneut absenden können. Es ist nicht nötig, dass JavaScript im Browser des Besucher aktiviert ist, aber falls doch, wird das erste fehlerhafte Feld fokusiert, und für Datum-Felder ist ein Datepicker verfügbar. Allerdings ist keine der Feld-Validierungen auf JavaScript angewiesen.</p>
<p>Nach dem erfolgreichen Absenden des Formulars wird eine E-Mail an die Empfänger (An, CC und BCC), die im Formular-Editor angegeben wurden, versendet. Dann wird die versendete Information im Browser des Besuchers als Bestätigung angezeigt, oder, falls eine Dank-Seite angegeben wurde, wird der Besucher dorthin weiter geleitet, und eine Bestätigungs-E-Mail wird an ihn versendet. Die Weiterleitung auf die Dank-Seite mit Bestätigungs-E-Mail ist nur möglich, wenn ein erforderliches Feld des Typs “Absender (E-Mail)” im Formular existiert.</p>
<p>Unter CMSimple_XH 1.6 und höher, werden Versuche eine E-Mail per Advancedform zu versenden im System-Protokoll von CMSimple_XH (Einstellungen → Log-Datei) aufgezeichnet.</p>
<p>Beachten Sie, dass es möglich ist mehrere Formulare auf einer einzelnen Seite zu platzieren, die unabhängig voneinander abgeschickt werden können.</p>
<h3 id="ersetzen-des-eingebauten-kontakt-formulars">Ersetzen des eingebauten Kontakt-Formulars</h3>
<p>Es ist möglich das eingebaute Kontakt-Formular von CMSimple_XH durch ein benutzerdefiniertes zu ersetzen. Erstellen Sie dazu einfach das gewünschte Formular, und tragen Sie dessen Namen in Advancedform_XHs Spracheinstellungen als “contact form” ein. Nun wird CMSimple_XHs Kontakt-Formular-Link direkt Ihr eigenes Formular aufrufen. Beachten Sie, dass für CMSimple_XH eine E-Mail-Adresse konfiguriert sein muss, damit der Kontaktformular-Link angezeigt wird, aber diese von Advancedform_XH ignoriert wird.</p>
<p>Alternativ fügen Sie den erforderlichen Skript-Code zum Aufruf des Formulars auf einer versteckten CMSimple-Seite ein. Dann müssen Sie Ihr Template ändern. Ersetzen Sie</p>
<pre><code>&lt;?php echo mailformlink()?&gt;</code></pre>
<p>durch</p>
<pre><code>&lt;?php echo advancedformlink(&#39;SEITEN_URL&#39;)?&gt;</code></pre>
<p>wobei SEITEN_URL der Teil der URL der Seite nach dem Fragezeichen ist. Es ist möglich auf diese Weise mehrere advancedformlink()s anzugeben.</p>
<h3 id="vorlagen-system">Vorlagen-System</h3>
<p>Das Vorlagen-System ermöglich die Erstellung höchst individueller Formulare. Power-User, die Formulare häufig erstellen oder verändern müssen, sollten sich den <a href="http://simplesolutions.dk/?Form_Mailer">Form Mailer</a> von Jerry Jakobsfeld ansehen, der noch flexibler einzusetzen ist als Advancedform_XH.</p>
<p>Wenn eine Datei mit dem Namen FORMULAR_NAME.tpl(.php) in Advancedform_XHs Daten-Ordner vorliegt, wird es als Vorlagen-Datei verwendet. Zusätzlich wird die Datei css/FORMULAR_NAME.css, falls sie existiert, als Stylesheet in die CMSimple_XH-Seite und der obere Teil dieses Stylesheets (abgetrennt wie für das Plugin-Stylesheet) in die E-Mail eingebunden. Und wenn eine Datei js/FORMULAR_NAME.js existiert, wird diese ebenfalls in die Seite eingebunden.</p>
<p>Sie können die Vorlagen-Datei und deren Stylesheet selbst schreiben, aber vielleicht ist es einfacher, diese in der Formular-Verwaltung von Advancedform_XH erzeugen zu lassen. Auf diese Weise erzeugte Vorlagen-Dateien stellen das Formular ähnlich des einspaltigen Layouts des Original Advancedform-Plugins dar. Wenn Ihnen das genügt, sind Sie bereits fertig.</p>
<p>Wenn Sie das Aussehen anpassen möchten, schauen Sie sich die erzeugten Dateien an. In der Vorlagen-Datei sehen Sie deren einfachen Aufbau. Aus Gründen der Flexibilität ist alles in &lt;div&gt;s eingeschlossen. Beachten Sie die Klasse der Container-divs. Diese ist auf “break” voreingestellt, so dass jedes Feld in einer neuen Zeile platziert wird. Ändern Sie sie in “float”, dann werden die Felder nebeneinander angezeigt. Wenn Sie die Beschriftung links von den Feldern haben möchten, entfernen Sie einfach die Kommentare in div.label und div.field</p>
<p>Eine Vorlagen-Datei ist prinzipiell eine PHP-Datei mit einer Erweiterung der Syntax:</p>
<pre><code>&lt;?field FELD_NAME?&gt;</code></pre>
<p>gibt das Feld mit dem Namen FELD_NAME aus. Verwenden Sie keine weiteren Zeichen wie Leerzeichen außer einem einzigen Leerzeichen zwischen field und FELD_NAME. Diese Notation ist eigentlich eine Abkürzung für</p>
<pre><code>&lt;?php echo Advancedform_displayField(&#39;FORMULAR_NAME&#39;, &#39;FELD_NAME&#39;)?&gt;</code></pre>
<p>Die Vorlagen-Datei wird im Kontext von CMSimple_XH ausgewertet, so dass alle globalen Variablen, Konstanten und Funktionen verwendet werden können. Allerdings ist es nicht möglich globale Variablen zu ändern (abgesehen von den Superglobalen, was aber die Funktion des Systems stören könnte). Und rufen Sie keine nicht existierenden Funktionen auf, da dies einen Fehler im PHP-Interpreter auslösen würde. <strong>Sie sollten besonders vorsichtig im Umgang mit Vorlagen-Dateien aus nicht vertrauenswürdigen Quellen sein, da diese bösartigen Code enthalten könnten, der Ihre CMSimple_XH-Installation beschädigen könnte.</strong></p>
<p>Eine besonders nützliche Funktion ist</p>
<pre><code>Advancedform_focusField($formular_name, $feld_name)</code></pre>
<p>die den Focus auf das angegebene Feld setzt.</p>
<h3 id="hooks">Hooks</h3>
<p>Die Hooks sind verfügbar, um noch mehr Flexibilität zu haben, wenn sie etwas PHP programmieren können. Definieren Sie sie in einer Datei FORMULAR_NAME.inc(.php) in Advancedform_XHs Daten-Ordner. Anmerkung: diese Datei wird per include() eingebunden, so dass sie als echte PHP-Datei notiert werden muss. Die Hooks werden von Advancedform_XH bei bestimmten Anlässen aufgerufen. Sie sind nicht an das Vorlagen-System gebunden.</p>
<pre><code>function advfrm_custom_field_default($form_name, $field_name, $opt, $is_resent)</code></pre>
<p>Dies wird aufgerufen bevor das Formular an den Browser geschickt wird. Es erlaubt Vorgabewerte für Felder dynamisch zu setzen. Geben Sie einfach den Wert, der als Vorgabe für ein Feld gelten soll zurück. Soll der Vorgabewert nicht geändert werden, geben Sie einfach NULL zurück. Der dritte Parameter gilt nur für Radio-Buttons, Checkboxen und Auswahllisten. Er enthält die Option, die gerade verarbeitet wird. Geben sie TRUE zurück, um die Option zu markieren, FALSE um die Markierung aufzuheben, oder NULL um die Vorgabe aus dem Formular-Editor zu übernehmen. Der Parameter $is_resent gibt an, ob das Formular nach dem Absenden zum Browser zurück geschickt wurde, da Fehler bei der Überprüfung festgestellt wurden. Wenn das der Fall ist, werden die Werte, die der Benutzer bereits eingegeben hat, anstelle der Vorgaben aus dem Formular-Editor zurück gesendet. In diesem Fall sollten Sie ggf. NULL zurück geben, um die Eingaben des Benutzers nicht zu überschreiben.</p>
<pre><code>function advfrm_custom_valid_field($form_name, $field_name, $value)</code></pre>
<p>Dies wird aufgerufen nachdem das Formular abgesandt wurde, und ermöglicht zusätzliche Überprüfungen der Feld-Werte. Geben Sie TRUE zurück, wenn der gegebene $value erlaubt ist; andernfalls sollten Sie eine Fehlermeldung zurück geben, die dem Benutzer angezeigt wird. Für Felder des Typs “Datei” ist $value das $_FILES[]-Array des angegebenen Felds.</p>
<pre><code>function advfrm_custom_mail($form_name, $mail, $is_confirmation)</code></pre>
<p>Dies wird aufgerufen nachdem das $mail-Objekt mit allen Informationen initialisiert wurden, und gerade bevor die E-Mail verschickt wird, und ermöglicht das $mail-Objekt zu ändern. herunter geladen werden. Der Parameter $form_name gibt das gerade verarbeitete Formular an, und der Parameter $is_confirmation gibt an, ob das $mail-Objekt die Information für die E-Mail oder die Bestätigungs-E-Mail enthält. Um das Versenden zu unterdrücken, geben Sie einfach FALSE zurück.</p>
<pre><code>function advfrm_custom_thanks_page($form_name, $fields)</code></pre>
<p>Dies wird aufgerufen nachdem die E-Mail versendet wurde, und kann genutzt werden, um zu einer individualisierten Dank-Seite zu wechseln. Geben Sie den Query-String (d.h. den Teil der URL der Seite nach dem Fragezeichen) der Seite, auf die gewechselt werden soll, zurück. Bei Rückgabe eines leeren Strings wird zu der Dank-Seite weiter geleitet, die im Formular-Editor angegeben wurde. Wenn keine Dank-Seite vordefiniert wurde, werden die versendeten Informationen angezeigt. Der Parameter $fields ist ein Array, das die Werte aller abgeschickten Formular-Felder enthält.</p>
<h3 id="demo-formulare">Demo-Formulare</h3>
<p>Sie sollten sich die ausgelieferten Demo-Formulare (in data/README finden Sie weitere Details) anschauen, um zu sehen, was möglich ist, und wie es gemacht wird.</p>
<p><strong>Vorsicht:</strong> natürlich können Sie die Demo-Formulare als Basis für Ihre eigenen verwenden. Da aber die meisten Demo-Formulare das Vorlagen- bzw. Hook-System verwenden, könnte das unerwartete Ergenisse zur Folge haben. Entweder entfernen Sie nicht gewünschte Template-/Hook-Dateien manuell, oder Sie erzeugen eine Kopie des Formulars in der Formular-Verwaltung und verwenden diese Kopie.</p>
<h2 id="beschränkungen">Beschränkungen</h2>
<h3 id="mailversand-scheitert">Mailversand scheitert</h3>
<p>Wenn das Versenden von E-Mails mit der Meldung “Mail Funktion konnte nicht initialisiert werden” fehlschlägt, testen Sie, ob der Mail-Versand mit CMSimple_XHs eingebautem Mailformular funktioniert. Falls ja, fragen Sie im <a href="http://cmsimpleforum.com/">CMSimple_XH Forum</a> nach Hilfe; ansonsten fragen Sie den Provider Ihres Webspace, ob es dort irgendwelche Beschränkungen für den Mailversand mit PHP’s mail() Funktion gibt.</p>
<h3 id="jquery">jQuery</h3>
<p>Advancedform_XH <em>könnte</em> in Installationen mit jQuery abhängigen Plugins/Addons/Vorlagen, die jQuery4CMSimple nicht verwenden, sondern ihre eigene jQuery Bibliothek importieren, nicht funktionieren. Dieses Problem wird nicht behoben werden (es ist ohnehin nicht möglich, es für alle Fälle zu beheben), weil allen Entwicklern geraten wird, ausschließlich jQuery4CMSimple in Verbindung mit ihrem jQuery basierten Code für CMSimple_XH zu verwenden.</p>
<h3 id="alternative-mailer">Alternative Mailer</h3>
<p>Das ursprüngliche AdvancedForm-Plugin hat verschiedene Arten von Mailern unterstützt. M.E. ist das aber nicht nötig. Die meisten Webhoster stellen die Möglichkeit zur Verfügung E-Mails per mail() zu versenden, welches leicht konfiguriert werden kann, und für die Zwecke von Advancedform_XH mehr als ausreichend ist.</p>
<h3 id="spam-schutz">Spam-Schutz</h3>
<p>Das ursprüngliche Advanceform-Plugin bot mehrere Möglichkeiten zum Spam-Schutz: IP-Blacklists, einen “bad word” Filter, eine XSS-Erkennungsmöglichkeit. Ich bin nicht sicher, ob diese Mechanismen wirklich der beste Weg zur Spam-Bekämpfung sind. Daher habe ich keinen davon implementiert (abgesehen vom Schutz vor XSS), sondern statt dessen ein CAPTCHA verfügbar gemacht. Dieses stellt nur eine minimalistische textbasierte Variante dar, aber bessere CAPTCHAs können als zusätzliches kompatibles CAPTCHA-Plugin genutzt werden. Soweit ich weiß, sind dies zur Zeit nur <a href="http://3-magi.net/?CMSimple_XH/Recaptcha_XH">Recaptcha_XH</a> und <a href="http://3-magi.net/?CMSimple_XH/Cryptographp_XH">Cryptographp_XH</a>.</p>
<h2 id="lizenz">Lizenz</h2>
<p>Dieses Programm ist freie Software. Sie können es unter den Bedingungen der GNU General Public License, wie von der Free Software Foundation veröffentlicht, weitergeben und/oder modifizieren, entweder gemäß Version 3 der Lizenz oder (nach Ihrer Option) jeder späteren Version.</p>
<p>Die Veröffentlichung dieses Programms erfolgt in der Hoffnung, daß es Ihnen von Nutzen sein wird, aber <em>ohne irgendeine Garantie</em>, sogar ohne die implizite Garantie der <em>Marktreife</em> oder der <em>Verwendbarkeit für einen bestimmten Zweck</em>. Details finden Sie in der GNU General Public License.</p>
<p>Sie sollten ein Exemplar der GNU General Public License zusammen mit diesem Programm erhalten haben. Falls nicht, siehe <a href="http://www.gnu.org/licenses/" class="uri">http://www.gnu.org/licenses/</a>.</p>
<p>© 2005-2010 Jan Kanters<br />
© 2011-2018 Christoph M. Becker</p>
<p>Dänische Übersetzung © 2012 Jens Maegard<br />
Estnische Übersetzung © 2012 Alo Tänavots<br />
Französische Übersetzung © 2014 Patrick Varlet<br />
Slovakische Übersetzung © 2012 Dr. Martin Sereday<br />
Tschechische Übersetzung © 2011-2012 Josef Němec</p>
<h2 id="danksagung">Danksagung</h2>
<p>Advancedform_XH basiert auf AdvancedForm Pro von Jan Kanters. Vielen Dank an ihn, dass er die Erlaubnis gegeben hat, seinen Code für eine CMSimple_XH kompatible Version zu verwenden, und an Holger und johnjdoe, die diese Erlaubnis ausgehandelt haben.</p>
<p>Der reguläre Ausdruck um auf gültige E-Mail-Adressen zu prüfen, stammt von <a href="http://www.regular-expressions.info/email.html">Jan Goyvaerts</a>. Vielen Dank für das großartige Tutorial zu regulären Ausdrücken und die Beispiele.</p>
<p>Das Plugin-Icon wurde von <a href="http://www.doublejdesign.co.uk/">Jack Cai</a> entworfen. Vielen Dank für die Veröffentlichung unter CC BY-ND.</p>
<p>Dieses Plugin verwendet freie Anwendungs-Icons von <a href="http://www.aha-soft.com/">Aha-Soft</a>. Vielen Dank für die freie Verwendbarkeit dieser Icons.</p>
<p>Vielen Dank an die Community im <a href="http://cmsimpleforum.com/">CMSimple_XH Forum</a> für Tipps, Vorschläge und das Testen. Besonders möchte ich Tata für die Idee danken, dass Advancedform_XH eine grundlegende Vorlagen-Datei mit Stylesheet erzeugen sollte, und manu für die konkreten Vorschläge für das Hook-System. Und vielen Dank an maeg, der es mir ermöglicht hat auf seinem Server zu debuggen, so dass ich einen Fehler finden und beheben konnte, der den Mailversand auf manchen Servern scheitern ließ.</p>
<p>Und zu guter Letzt vielen Dank an <a href="http://www.harteg.dk/">Peter Harteg</a>, den “Vater” von CMSimple, und alle Entwickler von <a href="http://www.cmsimple-xh.org/">CMSimple_XH</a>, ohne die dieses phantastische CMS nicht existieren würde.</p>
</body>
</html>
